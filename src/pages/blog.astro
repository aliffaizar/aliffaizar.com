---
import Main from '../layouts/Main.astro';
const posts = (await Astro.glob('./blog/*.{md,mdx}')).sort(
  (a, b) =>
    new Date(b.frontmatter.pubDate).valueOf() -
    new Date(a.frontmatter.pubDate).valueOf()
);
---

<Main title='all blog post' description='personal blog'>
  <h1>Blog</h1>
  <div class='grid grid-cols-2 gap-3 lg:gap-5'>
    {
      posts.map((post) => (
        <div class='flex flex-row items-center gap-5 md:gap-7 col-span-2 lg:col-span-1 lg:gap-9 bg-gray-800 p-5 rounded'>
          <div class='flex-shrink-0'>
            <img
              class='object-cover object-center w-40 h-40 lg:w-52 lg:h-52 rounded'
              src={post.frontmatter.heroImage}
            />
          </div>
          <div>
            <h1>{post.frontmatter.title}</h1>
            <p>{post.frontmatter.description}</p>
          </div>
        </div>
      ))
    }
  </div>
</Main>
